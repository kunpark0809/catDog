<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="point">
	<select id="listPoint">
		SELECT p.requestNum, p.point, p.purchase, p.stackPoint, r.num, r.requestDate, md.userId, md.mileage
		FROM payment p 
        LEFT OUTER JOIN request r ON p.requestNum = r.requestNum
        JOIN memberDetail md ON r.num = md.num;
        ORDER BY r.requestDate DESC
        OFFSET #{offset} ROWS FETCH FIRST #{rows} ROWS ONLY
	</select>
	
	<select id="readPoint">
		SELECT 
	</select>
	
	<select id="dataCount">
		SELECT NVL(COUNT(*), 0)
		FROM payment p 
        LEFT OUTER JOIN request r ON p.requestNum = r.requestNum
        JOIN memberDetail md ON r.num = md.num
	</select>
</mapper>